var years = { 
	tiger: ["17-02-1950:05-02-1951", "05-02-1962:24-01-1963", "23-01-1974:10-02-1975", "09-02-1986:28-01-1987", "28-01-1998:15-02-1999", "14-02-2010:02-02-2011", "01-02-2022:21-01-2023"], 
	rabbit: ["06-02-1951:26-01-1952", "25-01-1963:12-02-1964", "11-02-1975:30-01-1976", "29-01-1987:16-02-1988", "16-02-1999:04-02-2000", "03-02-2011:22-01-2012", "22-01-2023:09-02-2024"], 
	dragon: ["27-01-1952:13-02-1953", "13-02-1964:01-02-1965", "31-01-1976:17-02-1977", "17-02-1988:05-02-1989", "05-02-2000:23-01-2001", "23-01-2012:09-02-2013"],
	snake: ["14-02-1953:02-02-1954", "02-02-1965:20-01-1966", "18-02-1977:06-02-1978", "06-02-1989:26-01-1990", "24-01-2001:11-02-2002", "10-02-2013:30-01-2014"],
	horse: ["03-02-1954:23-01-1955", "21-01-1966:08-02-1967", "07-02-1978:27-01-1979", "27-01-1990:14-02-1991", "12-02-2002:31-01-2003", "31-01-2014:18-02-2015"],
	sheep: ["24-01-1955:11-02-1956", "09-02-1967:29-01-1968", "28-01-1979:15-02-1980", "15-02-1991:03-02-1992", "01-02-2003:21-01-2004", "19-02-2015:07-02-2016"],
	monkey: ["12-02-1956:30-01-1957", "30-01-1968:16-02-1969", "16-02-1980:04-02-1981", "04-02-1992:22-01-1993", "22-01-2004:08-02-2005", "08-02-2016:27-01-2017"],
	cock: ["31-01-1957:17-02-1958", "17-02-1969:05-02-1970", "05-02-1981:24-01-1982", "23-01-1993:09-02-1994", "09-02-2005:28-01-2006", "28-01-2017:15-02-2018"],
	dog: ["18-02-1958:07-02-1959", "06-02-1970:26-01-1971", "25-01-1982:12-02-1983", "10-02-1994:30-01-1995", "29-01-2006:17-02-2007", "16-02-2018:04-02-2019"],
	pig: ["08-02-1959:27-01-1960", "27-01-1971:14-02-1972", "13-02-1983:01-02-1984", "31-01-1995:18-02-1996", "18-02-2007:06-02-2008", "05-02-2019:24-01-2020"], 
	rat: ["28-01-1960:14-02-1961", "15-02-1972:02-02-1973", "02-02-1984:19-02-1985", "19-02-1996:06-02-1997", "07-02-2008:25-01-2009", "25-01-2020:11-02-2021"],
	bull: ["15-02-1961:04-02-1962", "03-02-1973:22-01-1974", "20-02-1985:08-02-1986", "07-02-1997:27-01-1998", "26-01-2009:13-02-2010", "12-02-2021:30-01-2022"]
}

function get_day(format){
	var d = format.split("-");
	return new Date(d[2], d[1]-1, d[0]);
}

function get_diff(birthday) {
	return ~~((Date.now() - birthday) / (31557600000));
}

function get_age(sign){
	var dates = years[sign];
	var result = new Array();
	
	for(var i=0; i<dates.length; i++){
		var range = dates[i].split(':');

		s = get_diff(get_day(range[0]));
		e = get_diff(get_day(range[1]));
		
		if(s < 1 || e < 1)
			continue;
		
		result.push(s,e);

	};
	return result;
}


$(document).ready(function(){
    
	$(document).on('click', '#list li', function(){
		$('#list li').removeClass('pushed');
		$(this).addClass('pushed');

        var img = $(this).find('img').prop('src');
		var val = $(this).data('info');
 		var age = get_age(val);		

		$("#result").css('background-image', "none"); 
		$("#result").slideUp(function(){
			$("#result div").html(age.join(", "));
			$("#result").slideDown(function(){
				$("#result").css('background-image', "url("+img+")");
			});
		}); 
	});
});
